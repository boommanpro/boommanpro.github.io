<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://boommanpro.cn/</id>
    <title>BoomMan</title>
    <updated>2021-07-02T14:03:43.455Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://boommanpro.cn/"/>
    <link rel="self" href="https://boommanpro.cn/atom.xml"/>
    <subtitle>çˆ±ç”Ÿæ´» , çˆ±Coding .....</subtitle>
    <logo>https://boommanpro.cn/images/avatar.png</logo>
    <icon>https://boommanpro.cn/favicon.ico</icon>
    <rights>All rights reserved 2021, BoomMan</rights>
    <entry>
        <title type="html"><![CDATA[2021å¹´6æœˆç”Ÿæ´»å°ç»“]]></title>
        <id>https://boommanpro.cn/post/2021-06-log/</id>
        <link href="https://boommanpro.cn/post/2021-06-log/">
        </link>
        <updated>2021-07-02T13:54:55.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å·¥ä½œå°ç»“">å·¥ä½œå°ç»“</h2>
<p>å‚åŠ å…¬å¸çš„èŒèŠ½è®¡åˆ’ï¼Œæ”¶è·å¤šå¤šã€‚<br>
è¿›ä¸€æ­¥äº†è§£å…¬å¸é¡¹ç›®ã€‚</p>
<p>ç»§ç»­åŠªåŠ›å§ï¼ï¼ï¼</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2021å¹´5æœˆç”Ÿæ´»å°ç»“]]></title>
        <id>https://boommanpro.cn/post/2021-05-log/</id>
        <link href="https://boommanpro.cn/post/2021-05-log/">
        </link>
        <updated>2021-06-01T12:58:06.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç”Ÿæ´»å°ç»“">ç”Ÿæ´»å°ç»“</h2>
<p>æœ¬æœˆå®Œæˆäº†ç¦»èŒï¼Œå…¥èŒï¼Œæ„Ÿæ…¨æ—¶é—´è¿‡çš„çœŸå¿« !</p>
<p>è®°å½•ä¸‹ä¸€äº›æ¢å·¥ä½œçš„æ³¨æ„äº‹é¡¹å§ï¼</p>
<ol>
<li>æ¢å·¥ä½œè¿˜æ˜¯è¦æ—©åšæ‰“ç®—(æ¯”å¦‚æå‰2-3æœˆå¤ä¹ ï¼Œ1ä¸ªæœˆæ‰¾)ï¼Œé¿å…æƒ³èµ°èµ°ä¸äº†ï¼Œèµ°æ—¶ä¸æ˜¯é»„é‡‘æœŸï¼Œæ— æ³•battleçš„æƒ…å†µã€‚</li>
<li>ç¦»èŒåçš„ç¦»èŒè¯æ˜è‡ªå·±è¦ä¿å­˜ä¸€ä»½ç”µå­ç‰ˆ(å› ä¸ºè¯æ˜åœ¨å…¥èŒæ–°å•ä½å°±ä¼šäº¤ï¼Œä½†æ˜¯ä¹‹åçš„ä¸€äº›è¯æ˜åˆéœ€è¦ï¼Œæ¯”å¦‚å·¥ä½œå±…ä½è¯è½¬ç§»)</li>
<li>ç¤¾ä¿å…¬ç§¯é‡‘ç­‰è½¬ç§»(å°½é‡åœ¨æœ¬å•ä½15å·åç¦»èŒï¼Œä¸‹ä¸ªå•ä½15å·å‰å…¥èŒ)ï¼Œè¿™æ ·å°±å¯ä»¥å®Œæˆæ— ç¼è¡”æ¥ã€‚</li>
<li><a href="http://www.bjrcgz.gov.cn/">åŒ—äº¬å·¥ä½œå±…ä½è¯</a>è½¬ç§»éœ€è¦æ³¨æ„ç›®æ ‡å•ä½å¯ä»¥æ¥æ”¶ï¼Œå¹¶ä¸”åœ¨å…¥èŒåå°½å¿«(1-2å¤©)åŠç†ç›¸å…³äº‹é¡¹ï¼Œå› ä¸ºä¸­é—´è¿˜éœ€è¦å†æ¬¡å®¡æ‰¹ï¼Œé˜²æ­¢å‡ºç°å·®é”™ã€‚</li>
</ol>
<h2 id="å·¥ä½œå°ç»“">å·¥ä½œå°ç»“</h2>
<p>å¼€æ°´å›¢çš„ç”Ÿæ´»è¿˜æ˜¯ä¸é”™çš„ï¼Œæœ‰å…´è¶£å¯ä»¥æ‰¾æˆ‘å†…æ¨å“ˆã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2021å¹´4æœˆç”Ÿæ´»å°ç»“]]></title>
        <id>https://boommanpro.cn/post/2021-04-log/</id>
        <link href="https://boommanpro.cn/post/2021-04-log/">
        </link>
        <updated>2021-04-29T03:41:14.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç”Ÿæ´»å°ç»“">ç”Ÿæ´»å°ç»“</h2>
<p>æœ¬æ¬¡å±‹å­é‡Œåˆæ–°å¢äº†æ™ºèƒ½å¼€å…³ï¼Œç”¨äºå£°æ§(å°åº¦éŸ³ç®±)æ§åˆ¶å§å®¤å’Œå®¢å…çš„ç¯ï¼Œå®¢æœå°å“¥å“¥niceï¼Œç”µè·¯æ‹ç…§å°±è¡Œï¼Œè´¼ä¸“ä¸šã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://boommanpro.cn//post-images/1619667786274.jpg" alt="" loading="lazy"></figure>
<p>æˆ‘çš„ç”µè„‘æ¡Œä¸Šå¢æ·»é¥®æ°´æœºï¼Œæ·˜å®ä¹°æ€¡å®å¤§æ¡¶æ°´å°±è¡Œäº†ã€‚ç»ˆäºå¯ä»¥åœ¨å®¶æ–¹ä¾¿å–çƒ­æ°´äº†ã€‚åæ‚”ç³»åˆ—ï¼Œæ²¡æœ‰æ—©ä¹°ã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://boommanpro.cn//post-images/1619667946227.jpg" alt="" loading="lazy"></figure>
<h2 id="å·¥ä½œå°ç»“">å·¥ä½œå°ç»“</h2>
<p>æœ¬æ¬¡æ¢å·¥ä½œæˆåŠŸï¼Œä¸‹ä¸ªæœˆå°±å»æ–°å…¬å¸äº†ï¼Œå¹²å°±å®Œäº‹äº†ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å…³äºä¸€äº›ç¼–ç¨‹ä¹¦ç±æ¨è]]></title>
        <id>https://boommanpro.cn/post/book/</id>
        <link href="https://boommanpro.cn/post/book/">
        </link>
        <updated>2021-04-24T14:22:08.000Z</updated>
        <content type="html"><![CDATA[<h2 id="http">HTTP</h2>
<p>å›¾è§£HTTP</p>
<h2 id="linux">Linux</h2>
<p>Linuxå‘½ä»¤è¡Œä¸Shellè„šæœ¬ç¼–ç¨‹å¤§å…¨</p>
<p>Linuxç§æˆ¿èœ</p>
<h2 id="java">Java</h2>
<p>æ·±å…¥ç†è§£JVMè™šæ‹Ÿæœº</p>
<p>Javaæ ¸å¿ƒæŠ€æœ¯ å·I</p>
<p>Javaæ ¸å¿ƒæŠ€æœ¯ å·II</p>
<p>Java é«˜å¹¶å‘ç¼–ç¨‹è¯¦è§£</p>
<p>Spring Boot ç¼–ç¨‹æ€æƒ³</p>
<p>Nettyå®æˆ˜</p>
<p>Rediså®æˆ˜</p>
<h2 id="mysql">MySQL</h2>
<p>é«˜æ€§èƒ½MySQL</p>
<h2 id="ç®—æ³•">ç®—æ³•</h2>
<p>ç¼–ç¨‹ä¹‹ç¾ - å¾®è½¯æŠ€æœ¯é¢è¯•å¿ƒå¾—</p>
<h2 id="javascript">JavaScript</h2>
<p>é«˜çº§ç¨‹åºè®¾è®¡ JavaScript</p>
<h2 id="è®¾è®¡æ¨¡å¼">è®¾è®¡æ¨¡å¼</h2>
<p>å¤§è¯è®¾è®¡æ¨¡å¼</p>
<h2 id="cicd">CICD</h2>
<p>Jenkins2 æƒå¨æŒ‡å—</p>
<h2 id="ç å‡ºé«˜æ•ˆ">ç å‡ºé«˜æ•ˆ</h2>
<p>ç å‡ºé«˜æ•ˆ Javaå¼€å‘æ‰‹å†Œ</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2021å¹´3æœˆç”Ÿæ´»å°ç»“]]></title>
        <id>https://boommanpro.cn/post/2021-03-log/</id>
        <link href="https://boommanpro.cn/post/2021-03-log/">
        </link>
        <updated>2021-03-28T03:32:07.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç®€å•å°ç»“">ç®€å•å°ç»“</h2>
<p>ç®€å•è®°å½•ä¸‹3æœˆçš„æœ‰è¶£äº‹,èƒŒæ™¯ä¸‰æœˆå»æˆéƒ½è½¬æ‚ äº†ä¸€åœˆï¼Œå»ç†ŠçŒ«åŸºåœ°çœ‹ç†ŠçŒ«ã€‚æ™šä¸Šåœ¨é…’åº—ç‚¹å†·åƒå…”å¤–å–ã€‚</p>
<p>æˆéƒ½çš„é…’åº—ç°åœ¨éƒ½æ˜¯æœºå™¨äººé€é¤ï¼Œç„¶åä¸‹å•å†·åƒå…”åç­‰å¾…å¤–å–é€è¾¾ï¼Œåœ¨è¶…æ—¶äº†10åˆ†é’Ÿåï¼Œå¤–å–å°å“¥è”ç³»åˆ°æˆ‘ï¼Œè¯´å¤–å–é€è¾¾ï¼Œé…’åº—æœºå™¨äººä¼šé€åˆ°ï¼Œéšå³ç‚¹äº†é€è¾¾ã€‚åˆç­‰äº†10åˆ†é’Ÿåï¼Œå¤–å–è¿˜æœªåˆ°ï¼Œæˆ‘ä¾¿æ‰“ç”µè¯é—®å‰å°æƒ…å†µï¼Œåˆä¸Šæ¥¼æ‰¾å¤–å–ï¼Œåœ¨å¯»æ‰¾ä¸­åˆé—®å¤–å–å°å“¥æ˜¯å¦é€äº†ï¼Œä»–è¯´æœºå™¨äººå¯èƒ½å¿™ï¼Œä¸€ä¼šå°±åˆ°ã€‚å°±åœ¨è¿™æ—¶ã€‚ã€‚æˆ‘åœ¨ç”µæ¢¯å£ç¢°ä¸Šäº†å¤–å–å°å“¥ï¼Œæ‹¿ç€æˆ‘çš„å¤–å–ï¼Œå°´å°¬ä¸€ç¬‘ã€‚</p>
<p>ç¨‹åºæ˜¯ä¸ä¼šéª—äººçš„ï¼Œç¨‹åºå‘˜æ˜¯ä¼šéª—äººçš„ã€‚</p>
<p>å¤–å–æœºå™¨äººèƒŒé”…ã€‚</p>
<p><img src="https://boommanpro.cn//post-images/1619667630508.jpg" alt="" loading="lazy"><br>
<img src="https://boommanpro.cn//post-images/1619667633265.jpg" alt="" loading="lazy"><br>
<img src="https://boommanpro.cn//post-images/1619667635927.jpg" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2021å¹´1æœˆç”Ÿæ´»å°ç»“]]></title>
        <id>https://boommanpro.cn/post/2021-01-log/</id>
        <link href="https://boommanpro.cn/post/2021-01-log/">
        </link>
        <updated>2021-01-23T09:36:30.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç®€å•å°ç»“">ç®€å•å°ç»“</h2>
<p><img src="https://boommanpro.cn//post-images/1611395077323.jpg" alt="" loading="lazy"><br>
<img src="https://boommanpro.cn//post-images/1611394733635.jpg" alt="" loading="lazy"></p>
<p>åœ¨1æœˆä¸­æ—¬ç»“æŸäº†é•¿æ—¶é—´çš„å‡ºå·®ï¼Œæš‚æ—¶æ’¤åœºå›åˆ°åŒ—äº¬ï¼Œä¸æˆ‘çš„å®å®ä¸€èµ·ä¸Šä¸‹ç­ï¼Œå¥½å¼€å¿ƒğŸ˜€.</p>
<h2 id="æŠ€æœ¯å°ç»“">æŠ€æœ¯å°ç»“</h2>
<p>ç¼–å†™æŠ€æœ¯åšå®¢ 3ç¯‡ï¼Œå¹¶ä¸”å¯¹2021å¹´åšäº†flagï¼Œå¸Œæœ›2021å¹´å¥½å¥½åŠªåŠ›</p>
<p><a href="/post/spring-boot-devtools-error/">spring-boot-devtools ä½¿ç”¨å¼•å‘çš„ä¸€ç³»åˆ—é—®é¢˜</a><br>
<a href="/post/spring-boot-external-config/">Spring Boot 2.4 å¤–éƒ¨åŒ–é…ç½®çš„æ”¹å˜</a><br>
<a href="/post/window-tcp-update/">Window Tcp æ•°æ®ç¯¡æ”¹</a><br>
<a href="/post/2021-flag/">2021-flag</a></p>
<p>å¯¹golangé¡¹ç›®ä¸­çš„frpå’Œgoreplayæºç çš„ç¬¬1-3æ¬¡æäº¤è¿›è¡Œäº†å­¦ä¹ ï¼Œå­¦ä¹ äº†cobraå‘½ä»¤è¡Œæ¡†æ¶</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Window Tcp æ•°æ®ç¯¡æ”¹]]></title>
        <id>https://boommanpro.cn/post/window-tcp-update/</id>
        <link href="https://boommanpro.cn/post/window-tcp-update/">
        </link>
        <updated>2021-01-07T09:53:28.000Z</updated>
        <content type="html"><![CDATA[<h1 id="èƒŒæ™¯">èƒŒæ™¯</h1>
<p>ä»€ä¹ˆæ—¶å€™éœ€è¦ä¿®æ”¹TCPä¼ è¾“çš„æ•°æ® ? å¦‚æœæˆ‘ä»¬çŸ¥é“TCPä¸­çš„æ•°æ®,å¹¶ä¸”å¯ä»¥ä¿®æ”¹,å¯ä»¥åšä»€ä¹ˆ ?</p>
<p>TCPæ•°æ®ä¿®æ”¹æ€è·¯:</p>
<ol>
<li>Windowså¹³å° Winsock api æ›¿æ¢æœ¬æœºddl</li>
<li>Linuxå¹³å° netfilter åº“</li>
<li>é€šç”¨ ä»£ç†ä¸­é—´äººæ”»å‡»</li>
</ol>
<p>å¸¸è§å·¥å…·:</p>
<ol>
<li>WPEä¸‰å‰‘å®¢</li>
<li>HookMe</li>
<li>åŸºäºwinsockçš„ä¸€ç³»åˆ—å·¥å…·</li>
</ol>
<p>å› ä¸ªäººå¯¹dllç­‰ä¸ç†Ÿæ‚‰,netfilterå°è¯•å¤±è´¥ç­‰åŸå› ,é‚é‡‡ç”¨ä»£ç†ä¸­é—´äººæ–¹å¼ã€‚</p>
<p>ä½†æ˜¯äº†è§£tcpçš„éƒ½åº”è¯¥çŸ¥é“,tcpå’Œhttpä¼ è¾“æ¶ˆæ¯ä¸åŒçš„æ˜¯ï¼Œtcpçš„åŒ…ä¸­åªæœ‰æºä¿¡æ¯å’Œç›®çš„ä¿¡æ¯,è€Œhttpçš„åº”ç”¨å±‚ä¸­åŒ…å«äº†ç›®çš„æœåŠ¡çš„ä¿¡æ¯ã€‚é‚£ä¹ˆå¦‚æœä¿®æ”¹ç›®çš„ä¿¡æ¯ä¸ºä¸­é—´äººæœåŠ¡ï¼Œé‚£ä¹ˆåŸæœ¬çš„ç›®çš„ä¿¡æ¯å»å“ªé‡Œäº†?</p>
<p>è¿™é‡Œå¯ä»¥é‡‡ç”¨åˆ«äººå¼€å‘å¥½çš„socks5ä»£ç†æœåŠ¡ï¼Œå®ƒåŸºäºdllä»£ç†ï¼Œä¸ä¸­é—´äººæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå»ºç«‹è¿æ¥æˆåŠŸåï¼Œå¹¶ä¸”å‘é€ä¸€ä¸ªtcpåŒ…ï¼Œé‡Œé¢åŒ…å«äº†åŸå§‹ä¿¡æ¯åŒ…ã€‚è¿™æ ·socks5æœåŠ¡å™¨å°±æœ‰äº†ä¸­é—´äººçš„æ¡ä»¶ã€‚</p>
<p>å®¢æˆ·ç«¯ä¸»æœº &lt;=&gt; ä»£ç†æœåŠ¡å™¨  &lt;=&gt; ç›®æ ‡æœåŠ¡å™¨</p>
<h2 id="ä¿®æ”¹é€»è¾‘">ä¿®æ”¹é€»è¾‘</h2>
<p>ä»¥golangä»£ç ä¸ºä¾‹</p>
<pre><code>func proxy(dst io.Writer, src io.Reader, lead bool, errCh chan error) {
	//è¿™å—ä½¿ç”¨çš„copy
	var err error
	//å‘é€çš„è§„åˆ™
	if lead {
		//srcæ˜¯è¯·æ±‚ä¿¡æ¯
		// é—®é¢˜æ˜¯å¦‚ä½•è§£å¯†å°åŒ…ä¸­çš„å«ä¹‰æ˜¯ä»€ä¹ˆ,ç„¶åå°±å¯ä»¥ç¼–ç ä¿®æ”¹å‘é€å’Œè¿”å›
		bufReq := bufio.NewReader(src)
		for ; ; {
			//éœ€è¦å°†å‘é€æŒ‡ä»¤æ¥æ”¶åˆ°ï¼Œç„¶åé‡å†™ å‘é€åˆ°æœåŠ¡ç«¯
			var buf [128]byte
			n ,_:=bufReq.Read(buf[:])
			fmt.Printf(&quot;æ¥æ”¶åˆ°å®é™…å®¢æˆ·ç«¯æ¶ˆæ¯%s&quot;,string(buf[:n]))

			dst.Write(([]byte)(string(buf[:n])+&quot;1&quot;))
		}
	} else {
		//æ¥å—çš„è§„åˆ™
		_, err = io.Copy(dst, src)
	}

	if tcpConn, ok := dst.(closeWriter); ok {
		tcpConn.CloseWrite()
	}
	errCh &lt;- err
}

</code></pre>
<p>å‡è®¾tcpä¸­çš„æ¶ˆæ¯éƒ½æ˜¯æ˜æ–‡ï¼Œä¸”å•ä¸ªæ¶ˆæ¯å°äºç­‰äº128ï¼Œè¿™æ ·ä¿®æ”¹é€»è¾‘å°±å®Œæˆçš„ã€‚å½“ç„¶å…·ä½“éœ€è¦å’Œå®é™…ç»“åˆã€‚</p>
<p>æ¶ˆæ¯ä¿®æ”¹ï¼Œå¹¶ä¸”æ²¡æœ‰é—®é¢˜ï¼Œéœ€è¦ä¸¥æ ¼éµå®ˆæœåŠ¡ç«¯æ¶ˆæ¯æ ¼å¼ï¼ŒåŠ å¯†è§£å¯†ï¼Œç›å€¼ï¼Œåºå·ç­‰ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Spring Boot 2.4 å¤–éƒ¨åŒ–é…ç½®çš„æ”¹å˜]]></title>
        <id>https://boommanpro.cn/post/spring-boot-external-config/</id>
        <link href="https://boommanpro.cn/post/spring-boot-external-config/">
        </link>
        <updated>2021-01-04T03:15:15.000Z</updated>
        <content type="html"><![CDATA[<h2 id="official-guide">Official Guide</h2>
<p><a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Config-Data-Migration-Guide">å®˜æ–¹å‡çº§æŒ‡å—</a></p>
<p>ç†Ÿæ‚‰å¤–éƒ¨åŒ–é…ç½®çš„åŒå­¦åº”è¯¥çŸ¥é“ï¼Œæˆ‘ä»¬è·å–å±æ€§éƒ½æ˜¯ä» Bean =&gt; Environmentä¸­è·å–çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å° Standardçš„getPropertySources()å³å¯çŸ¥é“</p>
<h2 id="åŒæ ·æ˜¯å¤–éƒ¨åŒ–é…ç½®-springprofilesactivedev">åŒæ ·æ˜¯å¤–éƒ¨åŒ–é…ç½® spring.profiles.active=dev</h2>
<p>2.3.5.RELEASE</p>
<figure data-type="image" tabindex="1"><img src="https://boommanpro.cn//post-images/1609730299381.png" alt="" loading="lazy"></figure>
<p>2.4.1</p>
<figure data-type="image" tabindex="2"><img src="https://boommanpro.cn//post-images/1609730341477.png" alt="" loading="lazy"></figure>
<h2 id="ä¸ºä»€ä¹ˆåšäº†å¦‚æ­¤æ”¹å˜">ä¸ºä»€ä¹ˆåšäº†å¦‚æ­¤æ”¹å˜</h2>
<p>å®˜æ–¹issue : <a href="https://github.com/spring-projects/spring-boot/issues/2404">#2404</a> =&gt;<a href="https://github.com/spring-projects/spring-boot/issues/3845">#3845</a></p>
<p>å³å¯äº†è§£åˆ° =&gt;<br>
2.4ä¹‹å‰ =&gt; å³æ—¶æˆ‘ä»¬é‡‡ç”¨å¤–éƒ¨åŒ–é…ç½®ï¼Œä¹Ÿä¼šæœ‰å›°æƒ‘,è²Œä¼¼å¤–éƒ¨åŒ–é…ç½®ä¸ç”Ÿæ•ˆçš„é—®é¢˜ï¼Œå› ä¸ºä»–æ˜¯æŒ‰ç…§å¤–éƒ¨åŒ– dev =&gt; å†…éƒ¨ dev ,å¤–éƒ¨default,å†…éƒ¨ default è¿™æ ·åŠ è½½</p>
<p>2.4ä¹‹å =&gt; æŒ‰ç…§ä¹‹å‰é¡ºåº å…ˆåŠ è½½å¤–éƒ¨åŒ– file,å†åŠ è½½å†…éƒ¨çš„classpathæ–‡ä»¶. è¿™æ ·åªè¦å¤–é¢é…ç½®äº†æ–‡ä»¶å°±ä¸€å®šä¼šè¦†ç›–å†…éƒ¨çš„ï¼Œä¼šç”Ÿæ•ˆã€‚</p>
<h2 id="24çš„å¤–éƒ¨åŒ–é…ç½®è¿˜æœ‰å“ªäº›">2.4çš„å¤–éƒ¨åŒ–é…ç½®è¿˜æœ‰å“ªäº› ?</h2>
<p>å¢åŠ äº†ç»„æ¦‚å¿µ<br>
å¢åŠ äº†å¯¹å®¹å™¨åŒ–ç­‰æ”¯æŒ<br>
å¢åŠ äº†æ–¹ä¾¿çš„import å¯¼å…¥å…¶ä»–é…ç½®æ–‡ä»¶åˆ°environment ä¹‹é—´æˆ‘ä»¬åšè¿‡ç±»ä¼¼çš„äº‹æƒ… =&gt; <a href="https://boommanpro.cn/post/spring-boot-enableConfigurationProperties/">è®©@EnableConfigurationPropertiesçš„å€¼æ³¨å…¥åˆ°@Valueä¸­</a></p>
<h2 id="æœ¬è´¨ä¸Šä»£ç æ˜¯æ€ä¹ˆæ”¹çš„">æœ¬è´¨ä¸Šä»£ç æ˜¯æ€ä¹ˆæ”¹çš„ ?</h2>
<p>åŸæœ¬çš„é…ç½®æ–‡ä»¶åŠ è½½ç±» <code>ConfigFileApplicationListener</code>æ ‡è®°äº†@Deprecated  favor of =&gt; <code>org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor</code> =&gt; <code>org.springframework.boot.context.config.ConfigDataEnvironment</code></p>
<p>è¿™æ ·å°±æ”¹å˜äº†åŠ è½½ç­–ç•¥ï¼Œä»è€Œå‡å°‘ä½¿ç”¨å›°æƒ‘(æ˜æ˜é…ç½®äº†å¤–éƒ¨åŒ–æ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆä¼šä¸ç”Ÿæ•ˆå‘¢?)</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[spring-boot-devtools ä½¿ç”¨å¼•å‘çš„ä¸€ç³»åˆ—é—®é¢˜]]></title>
        <id>https://boommanpro.cn/post/spring-boot-devtools-error/</id>
        <link href="https://boommanpro.cn/post/spring-boot-devtools-error/">
        </link>
        <updated>2021-01-03T09:02:08.000Z</updated>
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<p>åœ¨çœ‹ giteeçš„ä¸€ä¸ªå¼€æºé¡¹ç›® =&gt; <a href="https://gitee.com/huanzi-qch/base-admin.git">gitee-base-admin</a> çš„æ—¶å€™,å‘ç°å…¶ä¸­çš„é¡¹ç›®æ—¥å¿—é€šè¿‡websocketæ¨é€åˆ°å®¢æˆ·ç«¯æŒºæœ‰æ„ä¹‰çš„.ä¸ªäººé¡¹ç›®å¯ä»¥åŠ ä¸Šè¿™ä¸ªå°åŠŸèƒ½ã€‚</p>
<p>ä½†æ˜¯ å…¶å®ç°æ˜¯æ¯ä¸ªç”¨æˆ·éƒ½æ–°å»ºçº¿ç¨‹å»æ¨æ—¥å¿—, çº¿ç¨‹æ•°å’Œç”¨æˆ·æ•° 1:1. å¹¶ä¸”æ— æ³•å¯¹é›†ç¾¤æ—¥å¿—ç›‘å¬.é‚æƒ³å®ç°æ›´é€šç”¨(ä¼˜é›…)çš„æ–¹æ³•å®ç°</p>
<h2 id="æ”¹å†™æ€è·¯">æ”¹å†™æ€è·¯</h2>
<ol>
<li>å°†åŸæœ¬çš„è¯»å–æœ¬åœ°æ—¥å¿—æ–‡ä»¶ =&gt; loggingçš„appendæœºåˆ¶ =&gt; append å¤šä»½ =&gt; è¿½åŠ ä¸€ä»½åˆ°è‡ªå®šä¹‰çš„ Appender</li>
<li>Appenderå°†æ¶ˆæ¯å†™å…¥åˆ°Dispatcherä¸­è¿›è¡Œåˆ†å‘å¤„ç†</li>
<li>å°†DispatcheræŠ½è±¡ä¸ºæ¥å£,åšå¤šä»½å®ç° ä»¥æ»¡è¶³ å•æœºåŸºäºå†…å­˜çš„,é›†ç¾¤åŸºäºmqä¸­é—´ä»¶çš„æƒ…å†µ</li>
<li>å°†ç”¨æˆ·çš„websocketä¸Šä¸‹çº¿æ¨é€ =&gt; ç¼“å­˜nè¡Œ(CircularFifoQueue)åšé¦–æ¬¡æ¨é€,å…¶ä»–çš„æ¶ˆæ¯åšè½®è¯¢ç”¨æˆ·æ¨é€,å¯ä»¥å¼‚æ­¥åŒ–é˜²æ­¢å•æ¡æ¶ˆæ¯é˜»å¡æ—¶é—´é•¿çš„é—®é¢˜ã€‚ æ–°ç”¨æˆ·æ¨é€éœ€è¦æ³¨æ„é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±é—®é¢˜</li>
<li>coding</li>
</ol>
<h2 id="å‘ç‚¹å‡ºç°äº†">å‘ç‚¹å‡ºç°äº†</h2>
<p>åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™,å¯åŠ¨æ²¡æœ‰æŠ¥é”™ï¼Œå°±æ˜¯æ²¡æœ‰æ–°æ¶ˆæ¯è¿‡æ¥ï¼Œä½†æ˜¯appendä¹Ÿå†™å…¥æ¶ˆæ¯ï¼Œä½†æ˜¯å°±æ˜¯å–ä¸åˆ°æ¶ˆæ¯å¯ä»¥è¿›è¡Œæ¶ˆè´¹,åå‘ç°ä¸¤ä¸ªDispatcherä¸æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œé¥¿æ±‰å¼çš„å•ä¾‹å¤±æ•ˆäº†? ç«Ÿç„¶ä¸æ˜¯ä¸€ä¸ªç±»åŠ è½½å™¨?</p>
<p>åŸå› å¦‚ä¸‹:</p>
<p><code>spring-boot-devtools</code> å¯¹é¡¹ç›®çš„ä»£ç æ˜¯ RestartClassLoader,jaråŒ…çš„ä»£ç åˆ™æ˜¯App,åˆå› ä¸ºæˆ‘ä»¬æ˜¯é€šè¿‡logbackæ„é€ çš„append,æ‰€ä»¥å°±ç®—æ˜¯é¡¹ç›®çš„ä»£ç ï¼Œæ„é€ æ–¹å¼ï¼Œæˆ–è€…æµç¨‹ä¸ä¸€ï¼Œå¯¼è‡´ç±»åŠ è½½å™¨ä¸ä¸€æ ·ï¼Œæœ€ç»ˆä½“ç°åœ¨å•ä¾‹ä¸æ˜¯å•ä¾‹äº†ã€‚</p>
<p>æ€ä¹ˆè§£å†³å‘¢? ä¸ç”¨devtoolså³å¯ !!! æˆ–è€…ç™¾åº¦dev-tools é…ç½® or jreblä¸é¦™å—</p>
<h2 id="ç¼–å†™è¿‡ç¨‹ä¸­çš„æ³¨æ„ç‚¹">ç¼–å†™è¿‡ç¨‹ä¸­çš„æ³¨æ„ç‚¹</h2>
<p>å› ä¸ºloggingçš„ä¼˜å…ˆçº§é—®é¢˜,æ‰€ä»¥ä¸èƒ½é‡‡ç”¨beançš„æ–¹å¼æ„é€ ,æˆ‘é‡‡ç”¨çš„æ˜¯java spiæœºåˆ¶å®ç°å¤šç¯å¢ƒåˆ‡æ¢</p>
<h2 id="classloader">ClassLoader</h2>
<ol>
<li>jaråŒ…éš”ç¦»</li>
<li>åŠ¨æ€debug</li>
</ol>
<p>åŠ è½½ç±»å®ä¾‹çš„å‡ ç§æ–¹å¼ ?</p>
<ol>
<li>Class.forName</li>
<li>new</li>
<li>ClassLoader.loadClass</li>
<li>other ä¸€äº›åºåˆ—åŒ–ä»€ä¹ˆçš„</li>
<li>spi =&gt; ServiceLoader</li>
</ol>
<h2 id="classloader-ä¸€äº›ç‚¹">ClassLoader ä¸€äº›ç‚¹</h2>
<ol>
<li>ClassLoader.loadClass ç±»åŠ è½½å™¨å’Œå½“å‰åŠ è½½çš„Classä¸ä¸€è‡´æ—¶ ä¼šå¯¼è‡´</li>
</ol>
<pre><code class="language-java">com.boommanpro.Parent cannot be cast to com.boommanpro.Parent
</code></pre>
<ol>
<li>
<p>new æ–¹å¼ä½¿ç”¨çš„æ˜¯å½“å‰ä»£ç æ‰€åœ¨ç±»åŠ è½½å™¨åŠ è½½ï¼Œè€Œä¸æ˜¯è°ƒç”¨å½“å‰ä»£ç çš„ä»£ç æ‰€åœ¨ç±»åŠ è½½å™¨åŠ è½½</p>
</li>
<li>
<p>Class.forNameè¿ä½œæ—¶ï¼Œé€šè¿‡Reflection.getCallerClass()ï¼Œèƒ½å¤Ÿè·å–æ˜¯è°è°ƒç”¨äº†Class.forNameï¼Œæœ€ç»ˆè¿˜æ˜¯å’Œnew ä¸€è‡´æ€§</p>
</li>
<li>
<p>ä»£ç  Classæœ‰ç±»åŠ è½½å™¨,çº¿ç¨‹æœ‰ç±»åŠ è½½å™¨ ServiceLoaderç”¨çº¿ç¨‹çš„</p>
</li>
</ol>
<h2 id="ä»€ä¹ˆæ—¶å€™ç±»ä¼šè¢«åŠ è½½">ä»€ä¹ˆæ—¶å€™ç±»ä¼šè¢«åŠ è½½</h2>
<p>å‚ç…§ <a href="https://www.cnblogs.com/zhixie/p/11766080.html">javaç±»åœ¨ä½•æ—¶è¢«åŠ è½½</a></p>
<p>è¯´æ˜äº†ä»¥ä¸‹å‡ ç§æ–¹å¼</p>
<ol>
<li>mainç±»</li>
<li>åˆ›å»ºç±»çš„å®ä¾‹ newåˆ›å»ºå­ç±»çš„å®ä¾‹</li>
<li>è®¿é—®ç±»çš„é™æ€æ–¹æ³•</li>
<li>è®¿é—®ç±»çš„é™æ€å˜é‡</li>
<li>åå°„</li>
</ol>
<p>è¡¥å……ä¸¤ç‚¹:</p>
<ol start="6">
<li>cast -&gt;       Object o = new Object(); Parent o2 = (Parent) o; æœ¬è´¨æ˜¯ Parent.class.cast(o);</li>
<li>instanceof   =&gt;  <code>java.lang.Class#isInstance</code></li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ†å¸ƒå¼idæœåŠ¡ tinyIdæºç å­¦ä¹ ]]></title>
        <id>https://boommanpro.cn/post/tinyid/</id>
        <link href="https://boommanpro.cn/post/tinyid/">
        </link>
        <updated>2020-12-28T06:26:59.000Z</updated>
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<p>æˆ‘ä»¬å¤§è‡´äº†è§£å¸¸è§åˆ†å¸ƒå¼idæœ‰9ç§è§£å†³æ–¹æ¡ˆå¦‚ä¸‹:</p>
<ol>
<li>Redisè‡ªå¢id</li>
<li>UUID</li>
<li>æ•°æ®åº“id</li>
<li>å¤šä¸»æ•°æ®åº“id</li>
<li>åˆ†æ®µid</li>
<li>snowflake</li>
<li>åŸºäºsnowflakeçš„ç™¾åº¦ uid-generator</li>
<li>åŸºäºsnowflakeçš„ç¾å›¢ leaf</li>
<li>æ»´æ»´çš„åˆ†æ®µ tinyId</li>
</ol>
<p>åŸºäºé«˜å¯ç”¨,é«˜æ€§èƒ½,ç®€å•æ˜“ç”¨æ€§,ä½¿ç”¨tinyIdå’Œå­¦ä¹ tinyIdæºç .<br>
<code>å…³äºtinyidï¼Œå¹¶ä¸æ˜¯æ»´æ»´å®˜æ–¹äº§å“ï¼Œåªæ˜¯æ»´æ»´æ‹¥æœ‰çš„ä»£ç ã€‚</code></p>
<p><a href="https://github.com/didi/tinyid/wiki">tinyId-å®˜æ–¹wiki</a></p>
<p><img src="https://boommanpro.cn//post-images/1609137839166.png" alt="" loading="lazy"><br>
ä»£ç è¡Œæ•°ç»Ÿè®¡<br>
<img src="https://boommanpro.cn//post-images/1609137842127.png" alt="" loading="lazy"></p>
<h2 id="ç®€å•ä½¿ç”¨">ç®€å•ä½¿ç”¨</h2>
<pre><code class="language-shell">
## gitåŸç‰ˆ
git clone https://github.com/didi/tinyid.git

## cnpmjs åŠ é€Ÿç‰ˆæœ¬
git clone https://github.com.cnpmjs.org/didi/tinyid.git

</code></pre>
<h2 id="æºç åˆ†æç‚¹">æºç åˆ†æç‚¹</h2>
<ol>
<li>é¡¹ç›®æ¨¡å— <code>tinyid-base</code>  <code>tinyid-client</code> <code>tinyid-server</code> ä¹‹é—´çš„å…³ç³»</li>
</ol>
<pre><code>tinyid-base 
1. SegmentId ä¸­å®šä¹‰äº†å·æ®µæ ¸å¿ƒå®ä½“ï¼Œç”¨äºè·å–nextId()
2. å®šä¹‰å…¬ç”¨çš„ IdGeneratorFactory,IdGenerator,SegmentIdService æ¥å£ï¼Œè®©clientå’Œserverå®ç°å…¶å„è‡ªæ–¹æ³•ã€‚

tinyid-server æ˜¯éƒ¨ç½²åˆ†å¸ƒå¼idæœåŠ¡çš„

tinyid-serveræ˜¯java client,éœ€è¦è‡ªå·±installåˆ°æœ¬åœ°,å®˜æ–¹æ²¡æœ‰å‘å¸ƒåˆ°mavenä»“åº“
</code></pre>
<ol start="2">
<li>client IdGenerator æ˜¯å¦‚ä½•ä¿è¯é«˜æ€§èƒ½,é«˜å¯ç”¨çš„</li>
</ol>
<pre><code>1. é«˜æ€§èƒ½,ä¸è®ºè°ƒç”¨çš„æ˜¯nextIdè¿˜æ˜¯batchæ–¹æ³•,æœ¬è´¨æ˜¯åœ¨æœ¬åœ°ç”Ÿæˆçš„,å¦‚æœè¶…å‡ºäº†æœ¬åœ°ç”Ÿæˆç­–ç•¥ã€‚å»æœåŠ¡å™¨è·å–Segmentæ®µçš„é•¿åº¦. ä¸å¿…æ¯æ¬¡å‘é€httpè¯·æ±‚è·å–ã€‚
2. é«˜å¯ç”¨,å®¢æˆ·ç«¯åœ¨resourceé…ç½® tinyid_client.propertiesæ–‡ä»¶,å…¶å‚æ•° tinyid.server =&gt;
#(tinyid.server=localhost:9999/gateway,ip2:port2/prefix,...)  ç”¨é€—å·åˆ†éš”,è¾¾åˆ°è´Ÿè½½å‡è¡¡çš„æ•ˆæœã€‚
è¯¦æƒ…å¯çœ‹æºç  com.xiaoju.uemc.tinyid.client.factory.impl.IdGeneratorFactoryClient#init
å½“è·å–æ–°çš„segmentæ—¶ä¼šchoose,ç®—æ³•æ˜¯ random

</code></pre>
<ol start="3">
<li>æœåŠ¡å™¨å¦‚ä½•æ­å»ºé›†ç¾¤</li>
</ol>
<pre><code>ä¸ºäº†é˜²æ­¢æœåŠ¡ç«¯æŒ‚æ‰äº§ç”Ÿçš„å•ç‚¹é—®é¢˜ã€‚å¯¼è‡´æœåŠ¡ä¸å¯ç”¨,é‚éœ€è¦æ­å»ºé›†ç¾¤ï¼Œç›´æ¥æ­å»ºå¤šèŠ‚ç‚¹å°±è¡Œã€‚

å…³äºmysqlçš„å¤šä¸»æ•°æ®æºé—®é¢˜=&gt; com.xiaoju.uemc.tinyid.base.entity.SegmentId#init

å¦‚æœä½ æœ‰å¤šä¸ªæ•°æ®æºè¾¾åˆ°æ•°æ®åº“çš„é«˜å¯ç”¨,éœ€è¦é…ç½®æ•°æ®åº“ delta=æ•°æ®åº“ä¸ªæ•°
remainder ä»0æŒ‰é¡ºåºé€’å¢

</code></pre>
<pre><code class="language-java">
    /**
     * è¿™ä¸ªæ–¹æ³•ä¸»è¦ä¸ºäº†1,4,7,10...è¿™ç§åºåˆ—å‡†å¤‡çš„
     * è®¾ç½®å¥½åˆå§‹å€¼ä¹‹åï¼Œä¼šä»¥deltaçš„æ–¹å¼é€’å¢ï¼Œä¿è¯æ— è®ºå¼€å§‹idæ˜¯å¤šå°‘éƒ½èƒ½ç”Ÿæˆæ­£ç¡®çš„åºåˆ—
     * å¦‚å½“å‰æ˜¯å·æ®µæ˜¯(1000,2000]ï¼Œdelta=3, remainder=0ï¼Œåˆ™ç»è¿‡è¿™ä¸ªæ–¹æ³•åï¼ŒcurrentIdä¼šå…ˆé€’å¢åˆ°1002,ä¹‹åæ¯æ¬¡å¢åŠ delta
     * å› ä¸ºcurrentIdä¼šå…ˆé€’å¢ï¼Œæ‰€ä»¥ä¼šæµªè´¹ä¸€ä¸ªidï¼Œæ‰€ä»¥åšäº†ä¸€æ¬¡å‡deltaçš„æ“ä½œï¼Œå®é™…currentIdä¼šä»999å¼€å§‹å¢ï¼Œç¬¬ä¸€ä¸ªidè¿˜æ˜¯1002
     */
    public void init() {
        if (isInit) {
            return;
        }
        synchronized (this) {
            if (isInit) {
                return;
            }
            long id = currentId.get();
            if (id % delta == remainder) {
                isInit = true;
                return;
            }
            for (int i = 0; i &lt;= delta; i++) {
                id = currentId.incrementAndGet();
                if (id % delta == remainder) {
                    // é¿å…æµªè´¹ å‡æ‰ç³»ç»Ÿè‡ªå·±å ç”¨çš„ä¸€ä¸ªid
                    currentId.addAndGet(0 - delta);
                    isInit = true;
                    return;
                }
            }
        }
    }
</code></pre>
<ol start="4">
<li><code>tinyid-server</code>  ä¸­æ˜¯å¦‚ä½•å»ºç«‹å¤šæ•°æ®æºçš„</li>
</ol>
<pre><code>æ ¸å¿ƒæ˜¯ =&gt; org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource

åœ¨è¯»å–envionmenté…ç½®æ—¶,æ²¡è§è¿‡çš„ä¸€ä¸ªç”¨æ³•æ˜¯ RelaxedPropertyResolver,å¯ä»¥æ ¹æ®å‰ç¼€è·å–ä¿¡æ¯
</code></pre>
<ol start="5">
<li><code>tinyid-server</code>çš„maven profilesé…ç½®å­¦ä¹ </li>
</ol>
<pre><code>    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;online&lt;/id&gt;
            &lt;properties&gt;
                &lt;package.environment&gt;online&lt;/package.environment&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
        &lt;profile&gt;
            &lt;id&gt;offline&lt;/id&gt;
            &lt;activation&gt;
                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
            &lt;/activation&gt;
            &lt;properties&gt;
                &lt;package.environment&gt;offline&lt;/package.environment&gt;
            &lt;/properties&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;

    
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${spring.version}&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;repackage&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;directory&gt;src/main/resources/${package.environment}&lt;/directory&gt;
            &lt;/resource&gt;
            &lt;resource&gt;
                &lt;directory&gt;src/main/resources/base&lt;/directory&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;
    &lt;/build&gt;

</code></pre>
<p>ä¸è¿‡è²Œä¼¼ä¸€èˆ¬ä¸è¿™ä¹ˆç”¨<sub>V</sub></p>
]]></content>
    </entry>
</feed>